{"version":3,"sources":["webpack://react-template-mobile/./src/config/i18n.ts","webpack://react-template-mobile/./src/config/env.ts","webpack://react-template-mobile/./src/config/apis.ts","webpack://react-template-mobile/./src/library/apis.ts","webpack://react-template-mobile/./src/library/format.ts","webpack://react-template-mobile/./src/library/utils.ts","webpack://react-template-mobile/./src/locale/en.ts","webpack://react-template-mobile/./src/locale/zh_CN.ts","webpack://react-template-mobile/./src/components/page-loading/index.tsx","webpack://react-template-mobile/./src/store/lang/action.ts","webpack://react-template-mobile/./src/main/router.tsx","webpack://react-template-mobile/./src/main/local.tsx","webpack://react-template-mobile/./src/main/app.tsx","webpack://react-template-mobile/./src/main/index.tsx","webpack://react-template-mobile/./src/modules/demo/apis.ts","webpack://react-template-mobile/./src/modules/demo/routes.tsx","webpack://react-template-mobile/./src/modules/photo/routes.tsx","webpack://react-template-mobile/./src/store/demo/actionTypes.ts","webpack://react-template-mobile/./src/store/demo/store.ts","webpack://react-template-mobile/./src/store/demo/reducer.ts","webpack://react-template-mobile/./src/store/lang/store.ts","webpack://react-template-mobile/./src/store/lang/reducer.ts","webpack://react-template-mobile/./src/store/index.ts","webpack://react-template-mobile/./src/store/lang/actionTypes.ts","webpack://react-template-mobile//Users/chenjiajing/Desktop/chenjiajing/git-hub/react-template-mobile/src/components|sync|/.*\\/apis\\.tsx","webpack://react-template-mobile//Users/chenjiajing/Desktop/chenjiajing/git-hub/react-template-mobile/src/modules|sync|/.*\\/apis\\.tsx","webpack://react-template-mobile//Users/chenjiajing/Desktop/chenjiajing/git-hub/react-template-mobile/src/modules|sync|/.*\\/routes\\.tsx"],"names":["lang","store","currentLang","local","getLangByUrl","getCurrentUrlLang","LocalLang","localStorage","getItem","isExitLang","langList","some","v","key","isExitLang2","i18n","LanguageDetector","use","initReactI18next","init","resources","en","translation","zh_CN","lng","fallbackLng","debug","process","interpolation","escapeValue","ENV","window","toLowerCase","baseServer","baseMap","prod","stage","test","dev","location","host","default","apiMap","modules","require","components","keys","forEach","config","Object","assign","err","serverMap","baseURL","env","CI_DEV_BRANCH","dHost","parseQuery","Apis","token","getToken","dToken","setCookie","getTokenKey","value","unsetCookie","headers","Authorization","Promise","reject","res","data","msg","response","status","message","arr","regex","hash","pathname","match","length","replace","options","end","path","domain","secure","sExpires","constructor","Number","String","Date","toUTCString","document","cookie","encodeURIComponent","RegExp","hasCookie","decodeURIComponent","getCookie","queryStr","search","queryMap","param","split","clone","obj","JSON","parse","stringify","home","welcome","PageLoading","props","text","defaultProps","memo","setCommonLang","createAction","types","payload","routes","context","route","concat","WithRouterComponent","withRouter","dispatch","useDispatch","useSelector","state","useEffect","urlLang","setItem","reload","onSwitchLang","fallback","map","redirect","exact","from","to","render","component","locale","en_US","InspectorWrapper","React","hot","apis","router","createHashHistory","ReactDOM","getElementById","getUserInfo","server","method","url","postFriendList","Demo1","TakePhoto","setCommon","count","handleActions","action","initialState","name","reducers","combineReducers","demo","createStore","composeWithDevTools","applyMiddleware","thunk","promise","webpackEmptyContext","req","e","Error","code","resolve","id","module","exports","webpackContext","webpackContextResolve","__webpack_require__","o"],"mappings":"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","file":"static/js/main.8ea89492.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport store from '@/store';\nimport { ILangType } from '@/store/lang/type';\nimport { getCurrentUrlLang } from '@/library/format';\n// language\nimport en from '@/locale/en';\nimport zh_CN from '@/locale/zh_CN';\n\n// 初始化当前语言（优先从本地获取）\nconst lang = store.getState().lang;\nlet currentLang = lang.local;\nconst getLangByUrl = getCurrentUrlLang() as ILangType | null;\nconst LocalLang = localStorage.getItem('language') as ILangType | null;\nconst isExitLang = lang.langList.some(v => v.key === LocalLang);\nconst isExitLang2 = lang.langList.some(v => v.key === getLangByUrl);\n\nif (isExitLang && LocalLang) {\n  currentLang = LocalLang;\n}\n\nif (isExitLang2 && getLangByUrl) {\n  currentLang = getLangByUrl;\n}\n\nconsole.log('当前语言为：', currentLang);\n\nawait i18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translation: en\n      },\n      zh_CN: {\n        translation: zh_CN\n      }\n    },\n    lng: currentLang || 'zh_CN',\n    fallbackLng: currentLang || 'zh_CN', // 选择默认语言，选择内容为上述配置中的key，即en/zh\n    debug: process.env.NODE_ENV === 'development',\n    interpolation: {\n      escapeValue: false // not needed for react as it escapes by default\n    }\n  });\n\nexport default i18n;\n","const env = {\n  ENV: (window.ENV ? window.ENV.toLowerCase() : 'local') as 'dev' | 'test' | 'stage' | 'prod' | 'local'\n};\n\nexport default env;\n","/*\n * @Description: 服务器 多host地址\n * @Author: Chenjiajing\n * @Date: 2020-10-03 23:36:40\n * @LastEditors: Chenjiajing\n * @LastEditTime: 2021-02-19 22:22:14\n */\nconst serverMap: IServerMap = {\n  baseServer: {\n    baseMap: {\n      prod: 'http://prod.apis.com',\n      stage: 'https://state.apis.com',\n      test: 'https://test.apis.com',\n      dev: 'https://dev.apis.com',\n      local: `http://${window.location.host}` || 'http://localhost:8080' // 本地开发后端地址\n    },\n    default: true\n  }\n  // 更多\n  // baseServer2: {\n  //   baseMap: {\n  //     prod: 'http://prod.apis.com',\n  //     stage: 'https://state.apis.com',\n  //     test: 'https://test.apis.com',\n  //     dev: 'https://dev.apis.com',\n  //     local: 'http://localhost:8080'\n  //   },\n  //   default: true\n  // }\n};\n\nexport default serverMap;\n\ninterface IBaseMap {\n  prod: string;\n  stage: string;\n  test: string;\n  dev: string;\n  local: string;\n}\n\ninterface IConfig {\n  default?: boolean;\n  baseURL?: string;\n  baseMap: IBaseMap;\n}\n\ninterface IServerMap {\n  [key: string]: IConfig;\n}\n","import Apis, { IApiMap } from 'good-apis';\nimport { Toast } from 'antd-mobile';\n\nimport env from '../config/env';\nimport serverMap from '../config/apis';\nimport { getTokenKey, getToken, parseQuery, setCookie, unsetCookie } from './utils';\n\n// 整理 apiMap\nconst apiMap: IApiMap = {};\ntry {\n  const modules = require.context(`../modules`, true, /.*\\/apis\\.tsx?$/);\n  const components = require.context(`../components`, true, /.*\\/apis\\.tsx?$/);\n\n  modules.keys().forEach(key => {\n    const config = modules(key).default || modules(key);\n    Object.assign(apiMap, config);\n  });\n\n  components.keys().forEach((key: string) => {\n    const config = components(key).default;\n    Object.assign(apiMap, config);\n  });\n} catch (err) {\n  console.error(err?.message);\n}\n\n// 整理 serverMap\nfor (const key of Object.keys(serverMap)) {\n  let baseURL = serverMap[key].baseMap[env.ENV];\n\n  if (env.ENV === 'dev') {\n    baseURL = `${baseURL}${window.CI_DEV_BRANCH}`;\n  }\n\n  // host\n  const dHost = parseQuery('host');\n  if (dHost) {\n    baseURL = dHost;\n  }\n\n  serverMap[key].baseURL = baseURL;\n}\n\n// 请求拦截器\nApis.onUseReq(\n  config => {\n    let token = getToken();\n\n    // token\n    const dToken = parseQuery('token');\n    if (dToken) {\n      token = dToken;\n      setCookie({ key: getTokenKey(), value: dToken });\n    }\n\n    // clear\n    const dClear = parseQuery('clear');\n    if (dClear) {\n      token = '';\n      unsetCookie({ key: getTokenKey() });\n    }\n\n    if (token) {\n      config.headers.Authorization = `${token}`;\n    }\n\n    return config;\n  },\n  (err: any) => Promise.reject(err)\n);\n\n// 响应拦截器\nApis.onUseRes(\n  res => {\n    if (res.data) {\n      return res.data;\n    } else {\n      return Promise.reject(res.data.msg || '响应异常');\n    }\n  },\n  err => {\n    if (err.response) {\n      switch (err.response.status) {\n        case 401:\n          // unsetCookie({ key: getTokenKey() });\n          break;\n        case 403:\n          break;\n        default:\n      }\n      return Promise.reject(err.response);\n    }\n    void Toast.fail(err.message || '响应异常');\n    return Promise.reject(err);\n  }\n);\n\nconst apis = new Apis(serverMap, apiMap);\n\nexport default apis;\n","// 从URL获取语言字符串\nexport function getCurrentUrlLang() {\n  let lang = null;\n  let arr = null;\n  const regex = /\\/(.+?)\\//g;\n  const { hash, pathname } = window.location;\n  if (hash) {\n    arr = hash.match(regex);\n  } else if (pathname) {\n    arr = pathname.match(regex);\n  }\n  if (arr && arr.length >= 1) {\n    lang = arr[0].replace(/\\//g, '');\n  }\n  return lang;\n}\n","/*\n * @Description: 工具函数\n * @Author: Chenjiajing\n * @Date: 2020-09-10 15:57:23\n * @LastEditors: Chenjiajing\n * @LastEditTime: 2020-10-04 00:04:23\n */\n\n/**\n * @description 获取特定的cookie\n * @param  {string} key 需要获取的cookie名字\n * @example\n * import { getCookie } from 'library/utils';\n * const token=getCookie('token')\n */\nexport function getCookie(key: string): string | null {\n  return (\n    decodeURIComponent(\n      document.cookie.replace(\n        new RegExp(`(?:(?:^|.*;)\\\\s*${encodeURIComponent(key).replace(/[-.+*]/g, '\\\\$&')}\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$`),\n        '$1'\n      )\n    ) || null\n  );\n}\n\n/**\n * @description 判断某个cookie是否存在\n * @param  {string} key 需要判断的cookie名字\n * @example\n * import { hasCookie } from 'library/utils';\n * const flag=getCookie('token')\n */\nexport function hasCookie(key: string): boolean {\n  return new RegExp(`(?:^|;\\\\s*)${encodeURIComponent(key).replace(/[-.+*]/g, '\\\\$&')}\\\\s*\\\\=`).test(document.cookie);\n}\n\n// 设置cookie需要的参数\nexport interface ISetCookieOptions {\n  key: string;\n  value: string;\n  end?: number | string | Date; // 过期时间\n  path?: string;\n  domain?: string;\n  secure?: boolean;\n}\n\n/**\n * @description 设置特定的cookie\n * @param  {string} key 需要设置的cookie名字\n * @example\n * import { hasCookie } from 'library/utils';\n * hasCookie('token')\n */\n\nexport function setCookie(options: ISetCookieOptions): boolean {\n  const { key, value, end, path, domain, secure } = options;\n  if (!key || /^(?:expires|max\\\\-age|path|domain|secure)$/i.test(key)) {\n    return false;\n  }\n\n  let sExpires = '';\n  if (end) {\n    switch (end.constructor) {\n      case Number:\n        sExpires = `; max-age=${end}`;\n        break;\n      case String:\n        sExpires = `; expires=${end}`;\n        break;\n      case Date:\n        sExpires = `; expires=${(end as Date).toUTCString()}`;\n        break;\n      default:\n    }\n  }\n  document.cookie = `${encodeURIComponent(key)}=${encodeURIComponent(value)}${sExpires}${\n    domain ? `; domain=${domain}` : ''\n  }${path ? `; path=${path}` : ''}${secure ? '; secure' : ''}`;\n  return true;\n}\n\n/**\n * @description 清除特定的cookie\n * @param  {string} key 需要清除的cookie名字\n * @example\n * import { unsetCookie } from 'library/utils';\n * unsetCookie('token')\n */\nexport function unsetCookie(options: { key: string; path?: string; domain?: string }): boolean {\n  const { key, path, domain } = options;\n  if (!key || !hasCookie(key)) {\n    return false;\n  }\n  document.cookie = `${encodeURIComponent(key)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT${\n    domain ? `; domain=${domain}` : ''\n  }${path ? `; path=${path}` : ''}`;\n  return true;\n}\n\n// 获取token 的key\nexport function getTokenKey(): string {\n  const env = process.env.NODE_ENV;\n  let key = 'token';\n  if (env === 'production') {\n    key = `${env}-service-management-token`;\n  }\n  return key;\n}\n\n// 获取token的值\nexport function getToken(): string {\n  const key = getTokenKey();\n\n  return getCookie(key) || '';\n}\n\n// 快捷通过地址栏读取token，host等变量\nexport function parseQuery(key: string): string {\n  const queryStr = window.location.search.replace('?', '');\n  const queryMap: any = {};\n\n  for (const param of queryStr.split('&')) {\n    const [key, value] = param.split('=');\n    queryMap[key] = value;\n  }\n\n  return queryMap[key];\n}\n\n// 深拷贝对象或数组\nexport function clone<T = any>(obj: T) {\n  return JSON.parse(JSON.stringify(obj)) as T;\n}\n\n// 节流\nexport function throttle(this: any, fn: (...rest: any) => any, wait = 300) {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return (...rest: any) => {\n    if (timeout) {\n      return;\n    }\n    timeout = setTimeout(() => {\n      fn.apply(this, rest);\n      timeout = null;\n    }, wait);\n  };\n}\n\n// 防抖\nexport function debounce(this: any, fn: (...rest: any) => any, wait = 300) {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return (...rest: any) => {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        timeout = null;\n      }, wait);\n    } else {\n      fn.apply(this, rest);\n      timeout = setTimeout(() => {\n        timeout = null;\n      }, wait);\n    }\n  };\n}\n","const localeValues = {\n  home: 'Home',\n  welcome: 'Welcome To Home'\n};\n\nexport default localeValues;\n","const localeValues = {\n  home: '首页',\n  welcome: '欢迎来首页'\n};\n\nexport default localeValues;\n","import React, { memo, PropsWithChildren } from 'react';\n\nimport './index.less';\n\ninterface IProps {\n  text?: string;\n}\n\nconst PageLoading = (props: PropsWithChildren<IProps>) => <div styleName=\"loader\">{props.text}</div>;\n\nPageLoading.defaultProps = { text: 'Loading...' } as Partial<IProps>;\nexport default memo(PageLoading);\n","import { AnyAction, Dispatch } from 'redux';\nimport { createAction } from 'redux-actions';\n\nimport * as types from './actionTypes';\nimport { ILangState, ILangType } from './type';\n\n// 通用 action\nexport const setCommonLang = createAction(types.setCommonLang, (payload: Partial<ILangState>) => payload);\n\n/**\n * @description 切换语言\n * @param {'en'|'zh-cn'} payload\n */\nexport const onSwitchLang = (local: ILangType) => (dispatch: Dispatch<AnyAction>) => {\n  dispatch(setCommonLang({ local }));\n};\n","import React, { useEffect, PropsWithChildren } from 'react';\nimport { HashRouter as Router, Redirect, Route, Switch, withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport PageLoading from '@/components/page-loading';\nimport { ILangState, ILangType } from '@/store/lang/type';\nimport { getCurrentUrlLang } from '@/library/format';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { IStoreState } from '@/store/type';\nimport { onSwitchLang } from '@/store/lang/action';\n\nexport interface IRouteInfo {\n  exact?: boolean;\n  path: string;\n  redirect?: string;\n  component?: () => JSX.Element;\n}\n\nlet routes: IRouteInfo[] = [];\n\ntry {\n  const context = require.context(`../modules`, true, /.*\\/routes\\.tsx?$/);\n  context.keys().forEach((key: string) => {\n    const route = context(key).default;\n    routes = routes.concat(route);\n  });\n} catch (err) {\n  console.warn(err.message);\n}\n// 重定向\n// routes.push({\n//   path: '/',\n//   redirect: `/zh_CN/demo`\n// });\n\nconsole.log('>>> routes: ', JSON.stringify(routes));\n\nconst SwitchRouterComponent = (props: PropsWithChildren<RouteComponentProps>) => {\n  const dispatch = useDispatch();\n  const lang = useSelector<IStoreState, ILangState>(state => state.lang);\n\n  // 监听路由变化\n  useEffect(() => {\n    const urlLang = getCurrentUrlLang();\n    const LocalLang = localStorage.getItem('language') as ILangType | null;\n\n    if (urlLang && LocalLang && LocalLang !== urlLang) {\n      console.log(urlLang, 'URL上面的语言和本地语言不一致，需要重新加载语言资源', lang.local);\n      localStorage.setItem('language', urlLang);\n      window.location.reload();\n    }\n    console.log('>>> Router Change: ', props.location);\n  }, [lang.local, props.location]);\n\n  // 初始化语言\n  useEffect(() => {\n    // 初始化当前语言（优先从本地获取）\n    let currentLang = lang.local;\n    const LocalLang = localStorage.getItem('language') as ILangType | null;\n    const getLangByUrl = getCurrentUrlLang() as ILangType | null;\n    const isExitLang = lang.langList.some(v => v.key === LocalLang);\n    const isExitLang2 = lang.langList.some(v => v.key === getLangByUrl);\n\n    if (isExitLang && LocalLang) {\n      currentLang = LocalLang;\n    }\n    if (isExitLang2 && getLangByUrl) {\n      currentLang = getLangByUrl;\n    }\n    dispatch<any>(onSwitchLang(currentLang));\n    localStorage.setItem('language', currentLang);\n  }, [dispatch, lang.langList, lang.local]);\n\n  return (\n    <React.Suspense fallback={<PageLoading />}>\n      <Switch>\n        {routes.map(route =>\n          route.redirect ? (\n            <Redirect exact={route.exact} key={route.redirect} from={route.path} to={route.redirect} />\n          ) : (\n            <Route key={route.path} path={route.path} exact={route.exact} render={route.component} />\n          )\n        )}\n        <Redirect exact={false} from={'/'} to={`/${lang.local}/demo`} />\n      </Switch>\n    </React.Suspense>\n  );\n};\n\nconst WithRouterComponent = withRouter(SwitchRouterComponent);\n\nconst RouterComponent = () => (\n  <Router>\n    <WithRouterComponent />\n  </Router>\n);\n\nexport default RouterComponent;\n","import React from 'react';\nimport { LocaleProvider } from 'antd-mobile';\nimport en_US from 'antd-mobile/lib/locale-provider/en_US'; // 英文\n\nimport RouterComponent from './router';\n\nconst Local = () => (\n  <LocaleProvider locale={en_US}>\n    <RouterComponent />\n  </LocaleProvider>\n);\n\nexport default Local;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { hot } from 'react-hot-loader/root';\nimport { Inspector } from 'react-dev-inspector';\n\nimport './../style/reset.css';\nimport './../style/font.css';\nimport store from '../store';\nimport Local from './local';\n// props docs see below 调试组件，由页面组件可直接打开vscode中对应的组件\n// 详情查看 -> https://github.com/zthxxx/react-dev-inspector\nconst InspectorWrapper = process.env.NODE_ENV === 'development' ? Inspector : React.Fragment;\n\nconst App = (props: JSX.IntrinsicAttributes) => (\n  <InspectorWrapper keys={['control', 'shift', 'command', 'c']}>\n    <Provider store={store}>\n      <Local {...props} />\n    </Provider>\n  </InspectorWrapper>\n);\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createHashHistory } from 'history';\n\nimport '@/config/i18n';\nimport apis from '../library/apis';\n\nwindow.apis = (apis as unknown) as IAPIs;\nwindow.router = createHashHistory();\n\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('app'));\n","const config: IAPIsRegisterParam = {\n  // 获取用户信息\n  getUserInfo: {\n    server: 'baseServer',\n    method: 'get',\n    url: '/api/user/:id'\n  },\n  // 获取好友列表\n  postFriendList: {\n    server: 'baseServer',\n    method: 'post',\n    url: '/api/FriendList'\n  }\n};\n\nexport default config;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { IRouteInfo } from '@/main/router';\n\nconst Demo1 = withRouter(React.lazy(() => import('./pages/Demo-1')));\n\nconst routeList: IRouteInfo[] = [\n  {\n    path: '/:language/demo',\n    exact: false,\n    component: () => <Demo1 />\n  }\n];\n\nexport default routeList;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { IRouteInfo } from '@/main/router';\n\nconst TakePhoto = withRouter(React.lazy(() => import('./pages/TakePhoto')));\n\nconst routeList: IRouteInfo[] = [\n  {\n    path: '/:language/take-photo',\n    exact: false,\n    component: () => <TakePhoto />\n  }\n];\n\nexport default routeList;\n","export const setCommon = 'SET_COMMON';\n","import { IDemoState } from './type';\n\nconst initialState: IDemoState = {\n  count: 0\n};\n\nexport default initialState;\n","import { AnyAction } from 'redux';\nimport { handleActions } from 'redux-actions';\n\nimport * as types from './actionTypes';\nimport initialState from './store';\nimport { IDemoState } from './type';\n\nexport default handleActions(\n  {\n    [`${types.setCommon}`]: (state: IDemoState, action: AnyAction) => ({\n      ...state,\n      ...action.payload\n    })\n  },\n  initialState\n);\n","import { ILangState } from './type';\n\nconst initialState: ILangState = {\n  local: 'zh_CN',\n  langList: [\n    { key: 'zh_CN', name: '中文' },\n    { key: 'en', name: 'English' }\n  ] // 可选的语言列表\n};\n\nexport default initialState;\n","import { AnyAction } from 'redux';\nimport { handleActions } from 'redux-actions';\n\nimport * as types from './actionTypes';\nimport initialState from './store';\nimport { ILangState } from './type';\n\nexport default handleActions(\n  {\n    [`${types.setCommonLang}`]: (state: ILangState, action: AnyAction) => ({\n      ...state,\n      ...action.payload\n    })\n  },\n  initialState\n);\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport promise from 'redux-promise-middleware';\nimport thunk from 'redux-thunk';\n\nimport demo from './demo/reducer';\nimport lang from './lang/reducer';\n\nconst reducers = combineReducers({\n  demo,\n  lang\n});\n\nconst store = createStore(reducers, composeWithDevTools(applyMiddleware(thunk, promise)));\n\nexport default store;\n","export const setCommonLang = 'SET_COMMON_LANG';\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"ik8I\";\nmodule.exports = webpackEmptyContext;","var map = {\n\t\"./demo/apis.ts\": \"ajwd\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"9JIT\";","var map = {\n\t\"./demo/routes.tsx\": \"wPdb\",\n\t\"./photo/routes.tsx\": \"hnCQ\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"Ogn2\";"],"sourceRoot":""}