{"version":3,"sources":["webpack://react-template-mobile/./src/store/demo/action.ts","webpack://react-template-mobile/./src/modules/demo/pages/Demo-1.tsx"],"names":["setCommon","createAction","types","payload","src","demeImage","alt","Demo1","props","language","useParams","dispatch","useDispatch","demo","useSelector","state","useEffect","window","apis","getUserInfo","params","id","rest","then","res","catch","err","postFriendList","data","token","count","Error","style","marginBottom","type","onClick","getState","clone","incrementCount","decrementCount","router","push","pathname","name","location","memo"],"mappings":";0RAQO,MAAMA,GAAYC,OAAaC,KAAkBC,GAAiCA,I,MCsEjF,SAAG,UAAU,iDAAb,oB,EAQF,WAAK,UAAU,2CAAQC,IAAKC,EAAWC,IAAI,K,EAC3C,aAxEN,MAAMC,EAASC,IACb,QAAWA,GACL,SAAEC,IAAaC,UACfC,GAAWC,UACXC,GAAOC,SAAqCC,GAASA,EAAMF,QAGjEG,gBAAU,KAEDC,OAAOC,KACTC,YAA8B,CAC7BC,OAAQ,CAAEC,GAAI,KACdC,KAAM,CAAED,GAAI,KAEbE,MAAKC,QAGLC,OAAMC,UAKV,KAGHV,gBAAU,KAEDC,OAAOC,KACTS,eAAiC,CAChCC,KAAM,CAAEC,MAAO,OAEhBN,MAAKC,QAGLC,OAAMC,UAKV,IASH,GAAmB,IAAfb,EAAKiB,MACP,MAAM,IAAIC,MAAM,YAUlB,OACE,WAAK,UAAU,gDAAf,EACE,WAAK,UAAU,kDAAf,EACE,mBAAKlB,EAAKiB,OADZ,GAIA,WAAK,UAAU,mDAAf,EACE,SAAQE,MAAO,CAAEC,aAAc,QAAUC,KAAK,UAAUC,QAzB5C,KAChBxB,ED3C0B,EAACR,EAAU,IAAM,CAACQ,EAA+ByB,KAC7E,MAAMrB,EAAQqB,IACRvB,GAAOwB,QAAMtB,EAAMF,MAEzBF,EAASX,EAAU,CAAE8B,MAAOjB,EAAKiB,MAAQ3B,MCuC9BmC,CAAe,WAwBpB,OAGA,SAAQH,QAxBI,KAChBxB,EDpC0B,EAACR,GAAU,IAAO,CAACQ,EAA+ByB,KAC9E,MAAMrB,EAAQqB,IACRvB,GAAOwB,QAAMtB,EAAMF,MAEzBF,EAASX,EAAU,CAAE8B,MAAOjB,EAAKiB,MAAQ3B,MCgC9BoC,EAAgB,WAuBrB,QATJ,IAaE,SAAQL,KAAK,UAAUC,QArBR,KACjBlB,OAAOuB,OAAOC,KAAK,CACjBC,SAAW,IAAGjC,eACdM,MAAO,CAAE4B,KAAM1B,OAAOuB,OAAOI,SAASF,mBAkBtC,UAON,GAAeG,UAAKtC,I","file":"static/js/494.e81da3a4.chunk.js","sourcesContent":["import { clone } from '@/library/utils';\nimport { AnyAction, Dispatch } from 'redux';\nimport { createAction } from 'redux-actions';\nimport { IStoreState } from '../type';\nimport * as types from './actionTypes';\nimport { IDemoState } from './type';\n\n// 通用 action\nexport const setCommon = createAction(types.setCommon, (payload: Partial<IDemoState>) => payload);\n\n/**\n * @description 增加\n * @param {number} payload\n */\nexport const incrementCount = (payload = 1) => (dispatch: Dispatch<AnyAction>, getState: () => IStoreState) => {\n  const state = getState();\n  const demo = clone(state.demo);\n\n  dispatch(setCommon({ count: demo.count + payload }));\n};\n\n/**\n * @description 增加\n * @param {number} payload\n */\nexport const decrementCount = (payload = -1) => (dispatch: Dispatch<AnyAction>, getState: () => IStoreState) => {\n  const state = getState();\n  const demo = clone(state.demo);\n\n  dispatch(setCommon({ count: demo.count + payload }));\n};\n","import React, { PropsWithChildren, useEffect, memo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button } from 'antd-mobile';\nimport { useParams } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport '../style/demo.less';\nimport demeImage from '../assets/good.jpg';\nimport { IStoreState } from '@/store/type';\nimport { IDemoState } from '@/store/demo/type';\nimport { decrementCount, incrementCount } from '@/store/demo/action';\ninterface IProps {\n  [key: string]: any;\n}\n\nconst Demo1 = (props: PropsWithChildren<IProps & RouteComponentProps>) => {\n  const {} = props;\n  const { language } = useParams<RouterParams>();\n  const dispatch = useDispatch();\n  const demo = useSelector<IStoreState, IDemoState>(state => state.demo);\n\n  // 获取详情\n  useEffect(() => {\n    const getUserInfo = () => {\n      void window.apis\n        .getUserInfo<{ name: string }>({\n          params: { id: 110 },\n          rest: { id: 1 }\n        })\n        .then(res => {\n          console.log('success:', res);\n        })\n        .catch(err => {\n          console.log('error:', err);\n        });\n    };\n    void getUserInfo();\n  }, []);\n\n  // 获取详情\n  useEffect(() => {\n    const postFriendList = () => {\n      void window.apis\n        .postFriendList<{ name: string }>({\n          data: { token: 110 }\n        })\n        .then(res => {\n          console.log('success:', res);\n        })\n        .catch(err => {\n          console.log('error:', err);\n        });\n    };\n    void postFriendList();\n  }, []);\n\n  const increment = () => {\n    dispatch(incrementCount(1));\n  };\n\n  const decrement = () => {\n    dispatch(decrementCount(-1));\n  };\n  if (demo.count === 6) {\n    throw new Error('测试错误遮罩层！');\n  }\n\n  const onNextPage = () => {\n    window.router.push({\n      pathname: `/${language}/take-photo`,\n      state: { name: window.router.location.pathname }\n    });\n  };\n\n  return (\n    <div styleName=\"demo\">\n      <div styleName=\"header\">\n        <h1>{demo.count}</h1>\n        <p styleName=\"title\">无敌是多么寂寞-888888</p>\n      </div>\n      <div styleName=\"content\">\n        <Button style={{ marginBottom: '10px' }} type=\"primary\" onClick={increment}>\n          +\n        </Button>\n        <Button onClick={decrement}>-</Button>\n      </div>\n      <img styleName=\"image\" src={demeImage} alt=\"\" />\n      <hr />\n      <Button type=\"warning\" onClick={onNextPage}>\n        导航\n      </Button>\n    </div>\n  );\n};\n\nexport default memo(Demo1);\n"],"sourceRoot":""}